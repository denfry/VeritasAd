# VeritasAD Backend Configuration

# ==================== PROJECT SETTINGS ====================
PROJECT_NAME=VeritasAD
API_V1_STR=/api/v1
VERSION=1.0.0
DEBUG=False
ENVIRONMENT=production
SECRET_KEY=change-this-to-a-random-secret-key-min-32-chars

# ==================== SERVER ====================
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=False

# ==================== DATABASE ====================
# PostgreSQL (production)
DATABASE_URL=postgresql+asyncpg://veritasad:veritasad123@postgres:5432/veritasad

# SQLite (development only)
# DATABASE_URL=sqlite+aiosqlite:///./veritasad.db

# Database pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ==================== REDIS ====================
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50

# ==================== CELERY ====================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_TASK_TRACK_STARTED=True
CELERY_TASK_TIME_LIMIT=600
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=50

# ==================== SECURITY ====================
# CORS
CORS_ORIGINS=["https://veritasad.ai","https://www.veritasad.ai","http://localhost:3000"]
CORS_ALLOW_CREDENTIALS=True

# Trusted hosts
TRUSTED_HOSTS=["veritasad.ai","*.veritasad.ai","localhost"]

# API Key settings
API_KEY_LENGTH=32
API_KEY_HEADER=X-API-Key

# JWT settings (for future auth)
JWT_SECRET_KEY=change-this-jwt-secret-min-64-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==================== RATE LIMITING ====================
# Requests per day per tier
FREE_TIER_DAILY_LIMIT=100
PRO_TIER_DAILY_LIMIT=10000
ENTERPRISE_TIER_DAILY_LIMIT=999999

# Per-endpoint limits (requests per minute)
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ==================== FILE PROCESSING ====================
MAX_VIDEO_DURATION=600
MAX_FILE_SIZE=2147483648
ALLOWED_VIDEO_EXTENSIONS=[".mp4",".avi",".mov",".mkv",".webm"]
CHUNK_SIZE=1048576

# Temp file cleanup
TEMP_FILE_MAX_AGE_HOURS=24
CLEANUP_INTERVAL_MINUTES=60

# ==================== ML MODELS ====================
USE_LLM=False
WHISPER_MODEL=tiny
CLIP_MODEL=openai/clip-vit-base-patch32
TORCH_DEVICE=cuda

# Model cache
HF_HOME=/app/models/cache
TRANSFORMERS_CACHE=/app/models/cache

# ==================== PATHS ====================
DATA_DIR=/app/data
MODELS_DIR=/app/models
REPORTS_DIR=/app/data/reports
TEMP_DIR=/app/data/temp
UPLOAD_DIR=/app/data/uploads

# ==================== TELEGRAM BOT ====================
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_WEBHOOK_URL=https://veritasad.ai/webhook/telegram
TELEGRAM_WEBHOOK_PATH=/webhook/telegram

# ==================== PAYMENT ====================
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key
YOOKASSA_RETURN_URL=https://veritasad.ai/payment/success

# ==================== MONITORING ====================
SENTRY_DSN=
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_METRICS=True
ENABLE_TRACING=False

# ==================== EMAIL (Optional) ====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@veritasad.ai
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=VeritasAD <noreply@veritasad.ai>

# ==================== EXTERNAL SERVICES ====================
# OpenAI (for advanced LLM features)
OPENAI_API_KEY=

# S3 Storage (for production file storage)
S3_BUCKET=
S3_REGION=
S3_ACCESS_KEY=
S3_SECRET_KEY=
